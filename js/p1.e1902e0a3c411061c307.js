(()=>{var e={26:()=>{let e=document.querySelector("#game"),t=document.querySelector("#new-game"),n=(document.querySelector("#result-wrapper"),document.querySelector("#result"));function o(){for(i=0;i<9;i++)e.innerHTML+='<div id="field"></div>'}window.onload=function(){o(),c()};let r=0;function c(){e.onclick=e=>{if(e.target.innerText)return!1;e.target.innerText=r%2==0?"x":"o",r++,function(){let e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=document.querySelectorAll("#field"),n="";for(i=0;i<e.length;i++)"x"===t[e[i][0]].innerHTML&&"x"===t[e[i][1]].innerHTML&&"x"===t[e[i][2]].innerHTML&&(n="Победили Крестики",s(n)),"o"===t[e[i][0]].innerHTML&&"o"===t[e[i][1]].innerHTML&&"o"===t[e[i][2]].innerHTML&&(n="Победили Нолики",s(n)),""===n&&9===r&&7===i&&(n="Ничья",s(n))}()}}function s(t){e.style.pointerEvents="none",n.innerHTML=`${t}!!!`,n.style.backgroundColor="wheat"}t.addEventListener("click",(function(){e.innerHTML="",document.querySelector("#result").innerHTML="",o(),r=0,c(),e.style.pointerEvents="auto",n.style.backgroundColor=""}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}(()=>{"use strict";n(26);const e=document.querySelector("#add-task-btn"),t=document.querySelector("#description-task"),o=document.querySelector(".todos-wrapper");let r;r=localStorage.tasks?JSON.parse(localStorage.getItem("tasks")):[];let c=[];function s(e){this.description=e,this.completed=!1}const i=()=>{localStorage.setItem("tasks",JSON.stringify(r))},l=()=>{o.innerHTML="",r.length>0&&((()=>{let e=r.length&&r.filter((e=>!1===e.completed)),t=r.length&&r.filter((e=>!0===e.completed));r=[...e,...t]})(),r.forEach(((e,t)=>{o.innerHTML+=((e,t)=>`\n        <div class="todo-item ${e.completed?"checked":""}">\n            <div class="description">${e.description}</div>\n            <div class="buttons">\n\x3c!--                <input onclick="completeTask(${t})" class="btn-completed" type="checkbox" ${e.completed?"checked":""}>--\x3e\n                <input id="btn-check${t}" class="btn-completed" type="checkbox" ${e.completed?"checked":""}>\n\x3c!--                <button onclick="delTask(${t})" id="btn-del${t}" class="btn-del">DELETE</button>--\x3e\n                <button id="btn-del${t}" class="btn-del">DELETE</button>\n            </div>\n         </div>\n    `)(e,t)})),c=document.querySelectorAll(".todo-item")),document.querySelectorAll(".btn-del").forEach((e=>{e.addEventListener("click",(function(){a(e.id.slice(-1))}))})),document.querySelectorAll(".btn-completed").forEach((e=>{e.addEventListener("click",(function(){var t;t=e.id.slice(-1),r[t].completed=!r[t].completed,r[t].completed?c[t].classList.add("checked"):c[t].classList.remove("checked"),i(),l()}))}))};l(),e.addEventListener("click",(()=>{r.push(new s(t.value)),i(),l(),t.value=""}));const a=e=>{c[e].classList.add("delition"),setTimeout((()=>{r.splice(e,1),i(),l()}),100)};let u=new Date,d=u.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});d=+d.split(":").join(".");let m=function(e){return e>=6&&e<=11.59?"morning":e>=12&&e<=17.59?"day":e>=18&&e<=23.59?"evening":e>=0&&e<=5.59&&"night"}(d);function y(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}let g=y(1,20),p="";p=g<10?`0${g}`:g;let v={name:"...enter name",city:"Minsk"};function h(){localStorage.setItem("baseMoment",JSON.stringify(v))}function f(){localStorage.baseMoment&&(v=JSON.parse(localStorage.getItem("baseMoment")))}let S=document.querySelector(".author"),k=document.querySelector(".quote");async function L(){const e=await fetch("js/base-phases.json"),t=await e.json();let n=y(0,Object.keys(t).length);S.innerHTML=t[n].author,k.innerHTML=`" ${t[n].text} "`}const b=document.querySelector(".weather-icon"),q=document.querySelector(".temperature"),w=document.querySelector(".weather-description"),E=document.querySelector(".wind"),$=document.querySelector(".humidity");async function M(e){const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=eng&appid=6dfbd47545f720acd1a7123460a2c92d&units=metric`,n=await fetch(t),o=await n.json();"404"===o.cod?q.textContent="Error! City Not Founded!":(b.className="weather-icon owf",b.classList.add(`owf-${o.weather[0].id}`),q.textContent=`${Math.round(o.main.temp)}°C`,w.textContent=o.weather[0].description,E.textContent=`Wind Speed ${Math.round(o.wind.speed)} м/s`,$.textContent=`Humidity ${o.main.humidity}%`)}const x=[{num:1,title:"Night",src:"assets/sounds/1.mp3",duration:"06:24"},{num:2,title:"Like in war",src:"assets/sounds/2.mp3",duration:"04:05"},{num:3,title:"Under the blue sky",src:"assets/sounds/3.mp3",duration:"02:39"},{num:4,title:"Careless Angel",src:"assets/sounds/4.mp3",duration:"03:58"}];let T=document.querySelector(".play-list");x.forEach((e=>{T.innerHTML+=`\n    <li id ="${e.num}">${e.title}</li>\n`}));let C=document.querySelector("audio");C.src="assets/sounds/1.mp3",C.volume=.5;let H=x[0].num-1,I=document.querySelector(".play");document.querySelector(".play-next").addEventListener("click",(function(){3===H?(H=0,C.src=x[H].src,O()):(H+=1,C.src=x[H].src,O())})),document.querySelector(".play-prev").addEventListener("click",(function(){0===H?(H=3,C.src=x[H].src,O()):(H-=1,C.src=x[H].src,O())}));let N=document.querySelector(".mute"),j=document.querySelector("#soundVolume");function O(){if(A(),C.paused)I.style.backgroundImage="url(assets/svg/pause.svg)",C.play();else{console.log("pause"),C.pause(),I.style.backgroundImage="url(assets/svg/play.svg)";let e=`${H}`;e=Number(e)+1,document.getElementById(`${e.toString()}`).style.color="green",document.getElementById(`${e.toString()}`).style.backgroundImage="url(assets/svg/play.svg)"}}function A(){document.querySelector(".play-list").querySelectorAll("li").forEach((e=>{e.style.color="white",e.style.backgroundImage="url(assets/svg/play.svg)"}));let e=`${H}`;e=Number(e)+1,document.getElementById(`${e.toString()}`).style.color="red",document.getElementById(`${e.toString()}`).style.backgroundImage="url(assets/svg/pause.svg)"}j.addEventListener("pointerdown",(function(){C.volume=j.value,C.muted=!1,N.classList.remove("downv"),j.addEventListener("pointermove",(function(){C.volume=j.value}))})),N.addEventListener("click",(function(){N.classList.toggle("downv"),C.muted=!0!==C.muted})),C.addEventListener("timeupdate",(function(){let e=C.currentTime,t=Math.floor(e%60),n=Math.floor(e/60);document.querySelector(".duration").textContent="0"+n+":"+("0"+t).substr(-2)+" / "+x[H].duration}),!1),T.querySelectorAll("li").forEach((e=>{e.addEventListener("click",(()=>{e.id-1!==H&&(H=e.id-1,A(),C.src=x[e.id-1].src),O()}))})),I.addEventListener("click",O);let D=document.querySelector(".name"),B=document.querySelector(".city");document.addEventListener("DOMContentLoaded",(function(){B.value=v.city,B.textContent=v.city,M(v.city)}));let J=document.querySelector(".change-quote"),F=document.querySelector(".slide-next"),G=document.querySelector(".slide-prev");function U(){this.value=""}function V(e,t){v[t]=e.value,h(),f()}f(),function e(){const t=document.querySelector(".time"),n=new Date;t.textContent=n.toLocaleTimeString(),setTimeout(e,1e3),document.querySelector(".greeting").innerHTML=`Good ${m}, `}(),document.querySelector(".date").innerHTML=u.toLocaleString("en-us",{weekday:"long",month:"long",day:"numeric"}),document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg')`,L(),M(v.city),v.name.trim().length<=0?D.value="...enter name":D.value=v.name,D.addEventListener("focus",U),D.addEventListener("blur",(function(){V(D,"name"),v.name.trim().length<=0?D.value="...enter name":D.value=v.name,h()})),0===v.city.trim().length?B.value="...enter city":B.value=v.city,B.addEventListener("focus",U),B.addEventListener("blur",(function(){V(B,"city"),0===v.city.trim().length?(b.className="weather-icon owf",q.textContent="",w.textContent="",E.textContent="",$.textContent=""):M(v.city),0===v.city.trim().length?B.value="...enter city":B.value=v.city,v.city=B.value,h(),f()})),J.addEventListener("click",L),F.addEventListener("click",(()=>{!function(){p=Number(p),p+=1,20===p&&(p=1),p=p<10?`0${p}`:p;const e=new Image;e.src=`https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`,e.onload=()=>{document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`}}()})),G.addEventListener("click",(()=>{!function(){p=Number(p),p-=1,1===p&&(p=20),p=p<10?`0${p}`:p;const e=new Image;e.src=`https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`,e.onload=()=>{document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com//yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`}}()}))})()})();