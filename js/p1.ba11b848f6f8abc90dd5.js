(()=>{var e={26:()=>{let e=document.querySelector("#game"),t=document.querySelector("#new-game"),n=(document.querySelector("#result-wrapper"),document.querySelector("#result"));function o(){for(i=0;i<9;i++)e.innerHTML+='<div id="field"></div>'}window.onload=function(){o(),c()};let r=0;function c(){e.onclick=e=>{if(e.target.innerText)return!1;e.target.innerText=r%2==0?"x":"o",r++,function(){let e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=document.querySelectorAll("#field"),n="";for(i=0;i<e.length;i++)"x"===t[e[i][0]].innerHTML&&"x"===t[e[i][1]].innerHTML&&"x"===t[e[i][2]].innerHTML&&(n="Победили Крестики",s(n)),"o"===t[e[i][0]].innerHTML&&"o"===t[e[i][1]].innerHTML&&"o"===t[e[i][2]].innerHTML&&(n="Победили Нолики",s(n)),""===n&&9===r&&7===i&&(n="Ничья",s(n))}()}}function s(t){e.style.pointerEvents="none",n.innerHTML=`${t}!!!`,n.style.backgroundColor="wheat"}t.addEventListener("click",(function(){e.innerHTML="",document.querySelector("#result").innerHTML="",o(),r=0,c(),e.style.pointerEvents="auto",n.style.backgroundColor=""}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,n),c.exports}(()=>{"use strict";n(26);const e=document.querySelector("#add-task-btn"),t=document.querySelector("#description-task"),o=document.querySelector(".todos-wrapper");let r;r=localStorage.tasks?JSON.parse(localStorage.getItem("tasks")):[];let c=[];function i(e){this.description=e,this.completed=!1}const s=()=>{localStorage.setItem("tasks",JSON.stringify(r))},l=()=>{o.innerHTML="",r.length>0&&((()=>{let e=r.length&&r.filter((e=>!1===e.completed)),t=r.length&&r.filter((e=>!0===e.completed));r=[...e,...t]})(),r.forEach(((e,t)=>{o.innerHTML+=((e,t)=>`\n        <div class="todo-item ${e.completed?"checked":""}">\n            <div class="description">${e.description}</div>\n            <div class="buttons">\n\x3c!--                <input onclick="completeTask(${t})" class="btn-completed" type="checkbox" ${e.completed?"checked":""}>--\x3e\n                <input id="btn-check${t}" class="btn-completed" type="checkbox" ${e.completed?"checked":""}>\n\x3c!--                <button onclick="delTask(${t})" id="btn-del${t}" class="btn-del">DELETE</button>--\x3e\n                <button id="btn-del${t}" class="btn-del">DELETE</button>\n            </div>\n         </div>\n    `)(e,t)})),c=document.querySelectorAll(".todo-item")),document.querySelectorAll(".btn-del").forEach((e=>{e.addEventListener("click",(function(){a(e.id.slice(-1))}))})),document.querySelectorAll(".btn-completed").forEach((e=>{e.addEventListener("click",(function(){var t;t=e.id.slice(-1),r[t].completed=!r[t].completed,r[t].completed?c[t].classList.add("checked"):c[t].classList.remove("checked"),s(),l()}))}))};l(),e.addEventListener("click",(()=>{r.push(new i(t.value)),s(),l(),t.value=""}));const a=e=>{c[e].classList.add("delition"),setTimeout((()=>{r.splice(e,1),s(),l()}),100)};let u={weather:!0,player:!0,playlist:!0,"pop-time":!0,"pop-date":!0,"pop-greeting":!0,"pop-quote":!0,"pop-xo":!0,"pop-todo":!0},d=[".weather",".player-controls",".play-list",".time",".date",".greeting-container",".quote-wrapper",".xogame",".todo-wrapper"],m=document.querySelector(".pop-tools"),y=document.querySelector(".tools"),g=document.querySelector(".close-pop"),p=m.querySelectorAll("input");function h(){p.forEach((e=>{e.checked=u[e.name]}))}function v(){for(let e=0;e<d.length;e++)console.log(d[e],Object.keys(u)[e]),u[Object.keys(u)[e]]?document.querySelector(d[e]).classList.remove("hide-item"):document.querySelector(d[e]).classList.add("hide-item")}localStorage.dataTools&&(u=JSON.parse(localStorage.getItem("dataTools"))),h(),v(),y.addEventListener("click",(()=>{m.style.right="0"})),g.addEventListener("click",(()=>{m.style.right="100%",m.querySelectorAll("input").forEach((e=>{u[e.name]=e.checked})),localStorage.setItem("dataTools",JSON.stringify(u)),h(),v()}));let S=new Date,f=S.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});f=+f.split(":").join(".");let k=function(e){return e>=6&&e<=11.59?"morning":e>=12&&e<=17.59?"day":e>=18&&e<=23.59?"evening":e>=0&&e<=5.59&&"night"}(f);function L(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}let q=L(1,20),b="";b=q<10?`0${q}`:q;let E={name:"...enter name",city:"Minsk"};function w(){localStorage.setItem("baseMoment",JSON.stringify(E))}function $(){localStorage.baseMoment&&(E=JSON.parse(localStorage.getItem("baseMoment")))}let M=document.querySelector(".author"),x=document.querySelector(".quote");async function T(){const e=await fetch("js/base-phases.json"),t=await e.json();let n=L(0,Object.keys(t).length);M.innerHTML=t[n].author,x.innerHTML=`" ${t[n].text} "`}const C=document.querySelector(".weather-icon"),I=document.querySelector(".temperature"),H=document.querySelector(".weather-description"),O=document.querySelector(".wind"),N=document.querySelector(".humidity");async function j(e){const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=eng&appid=6dfbd47545f720acd1a7123460a2c92d&units=metric`,n=await fetch(t),o=await n.json();"404"===o.cod?I.textContent="Error! City Not Founded!":(C.className="weather-icon owf",C.classList.add(`owf-${o.weather[0].id}`),I.textContent=`${Math.round(o.main.temp)}°C`,H.textContent=o.weather[0].description,O.textContent=`Wind Speed ${Math.round(o.wind.speed)} м/s`,N.textContent=`Humidity ${o.main.humidity}%`)}const A=[{num:1,title:"Night",src:"assets/sounds/1.mp3",duration:"06:24"},{num:2,title:"Like in war",src:"assets/sounds/2.mp3",duration:"04:05"},{num:3,title:"Under the blue sky",src:"assets/sounds/3.mp3",duration:"02:39"},{num:4,title:"Careless Angel",src:"assets/sounds/4.mp3",duration:"03:58"}];let J=document.querySelector(".play-list");A.forEach((e=>{J.innerHTML+=`\n    <li id ="${e.num}">${e.title}</li>\n`}));let D=document.querySelector("audio");D.src="assets/sounds/1.mp3",D.volume=.5,D.onended=z;let B=A[0].num-1,F=document.querySelector(".play");document.querySelector(".play-next").addEventListener("click",z),document.querySelector(".play-prev").addEventListener("click",(function(){0===B?(B=3,D.src=A[B].src,W()):(B-=1,D.src=A[B].src,W())}));let G=document.querySelector(".mute"),U=document.querySelector("#soundVolume"),V=document.querySelector("#range-audio");function W(){if(document.querySelector(".song-name").textContent=A[B].title,K(),D.paused)F.style.backgroundImage="url(assets/svg/pause.svg)",D.play();else{D.pause(),F.style.backgroundImage="url(assets/svg/play.svg)";let e=`${B}`;e=Number(e)+1,document.getElementById(`${e.toString()}`).style.color="green",document.getElementById(`${e.toString()}`).style.backgroundImage="url(assets/svg/play.svg)"}D.addEventListener("timeupdate",(function(){V.value=100*D.currentTime/D.duration}))}function z(){3===B?(B=0,D.src=A[B].src,W()):(B+=1,D.src=A[B].src,W())}function K(){document.querySelector(".play-list").querySelectorAll("li").forEach((e=>{e.style.color="white",e.style.backgroundImage="url(assets/svg/play.svg)"}));let e=`${B}`;e=Number(e)+1,document.getElementById(`${e.toString()}`).style.color="red",document.getElementById(`${e.toString()}`).style.backgroundImage="url(assets/svg/pause.svg)"}V.value="0",U.addEventListener("pointerdown",(function(){D.volume=U.value,D.muted=!1,G.classList.remove("downv"),U.addEventListener("pointermove",(function(){D.volume=U.value}))})),G.addEventListener("click",(function(){G.classList.toggle("downv"),D.muted=!0!==D.muted})),D.addEventListener("timeupdate",(function(){let e=D.currentTime,t=Math.floor(e%60),n=Math.floor(e/60);document.querySelector(".duration").textContent="0"+n+":"+("0"+t).substr(-2)+" / "+A[B].duration}),!1),J.querySelectorAll("li").forEach((e=>{e.addEventListener("click",(()=>{e.id-1!==B&&(B=e.id-1,K(),D.src=A[e.id-1].src),W()}))})),F.addEventListener("click",W),V.addEventListener("input",(function(){D.currentTime=V.value*D.duration/100}));let P=document.querySelector(".name"),Q=document.querySelector(".city");document.addEventListener("DOMContentLoaded",(function(){Q.value=E.city,Q.textContent=E.city,j(E.city)}));let R=document.querySelector(".change-quote"),X=document.querySelector(".slide-next"),Y=document.querySelector(".slide-prev");function Z(){this.value=""}function _(e,t){E[t]=e.value,w(),$()}$(),function e(){const t=document.querySelector(".time"),n=new Date;t.textContent=n.toLocaleTimeString(),setTimeout(e,1e3),document.querySelector(".greeting").innerHTML=`Good ${k}, `}(),document.querySelector(".date").innerHTML=S.toLocaleString("en-us",{weekday:"long",month:"long",day:"numeric"}),document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${k}/${b}.jpg')`,T(),j(E.city),E.name.trim().length<=0?P.value="...enter name":P.value=E.name,P.addEventListener("focus",Z),P.addEventListener("blur",(function(){_(P,"name"),E.name.trim().length<=0?P.value="...enter name":P.value=E.name,w()})),0===E.city.trim().length?Q.value="...enter city":Q.value=E.city,Q.addEventListener("focus",Z),Q.addEventListener("blur",(function(){_(Q,"city"),0===E.city.trim().length?(C.className="weather-icon owf",I.textContent="",H.textContent="",O.textContent="",N.textContent=""):j(E.city),0===E.city.trim().length?Q.value="...enter city":Q.value=E.city,E.city=Q.value,w(),$()})),R.addEventListener("click",T),X.addEventListener("click",(()=>{!function(){b=Number(b),b+=1,20===b&&(b=1),b=b<10?`0${b}`:b;const e=new Image;e.src=`https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${k}/${b}.jpg`,e.onload=()=>{document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${k}/${b}.jpg`}}()})),Y.addEventListener("click",(()=>{!function(){b=Number(b),b-=1,1===b&&(b=20),b=b<10?`0${b}`:b;const e=new Image;e.src=`https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${k}/${b}.jpg`,e.onload=()=>{document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com//yuraCOM/stage1-tasks/assets/images/${k}/${b}.jpg`}}()}))})()})();