(()=>{var e={26:()=>{let e=document.querySelector("#game"),t=document.querySelector("#new-game"),n=(document.querySelector("#result-wrapper"),document.querySelector("#result"));function o(){for(i=0;i<9;i++)e.innerHTML+='<div id="field"></div>'}window.onload=function(){o(),r()};let c=0;function r(){e.onclick=e=>{if(console.log(e),e.target.innerText)return!1;e.target.innerText=c%2==0?"x":"o",c++,function(){let e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=document.querySelectorAll("#field"),n="";for(i=0;i<e.length;i++)console.log(n,"i= ",i,"hod = ",c),"x"===t[e[i][0]].innerHTML&&"x"===t[e[i][1]].innerHTML&&"x"===t[e[i][2]].innerHTML&&(n="Победили Крестики",s(n)),"o"===t[e[i][0]].innerHTML&&"o"===t[e[i][1]].innerHTML&&"o"===t[e[i][2]].innerHTML&&(n="Победили Нолики",s(n)),""===n&&9===c&&7===i&&(n="Ничья",s(n))}()}}function s(t){e.style.pointerEvents="none",n.innerHTML=`${t}!!!`,n.style.backgroundColor="wheat"}t.addEventListener("click",(function(){e.innerHTML="",document.querySelector("#result").innerHTML="",o(),c=0,r(),e.style.pointerEvents="auto",n.style.backgroundColor=""}))}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";n(26);const e=document.querySelector("#add-task-btn"),t=document.querySelector("#description-task"),o=document.querySelector(".todos-wrapper");let c;c=localStorage.tasks?JSON.parse(localStorage.getItem("tasks")):[];let r=[];function i(e){this.description=e,this.completed=!1}const s=()=>{localStorage.setItem("tasks",JSON.stringify(c))},a=()=>{o.innerHTML="",c.length>0&&((()=>{let e=c.length&&c.filter((e=>!1===e.completed)),t=c.length&&c.filter((e=>!0===e.completed));c=[...e,...t]})(),c.forEach(((e,t)=>{o.innerHTML+=((e,t)=>`\n        <div class="todo-item ${e.completed?"checked":""}">\n            <div class="description">${e.description}</div>\n            <div class="buttons">\n\x3c!--                <input onclick="completeTask(${t})" class="btn-completed" type="checkbox" ${e.completed?"checked":""}>--\x3e\n                <input id="btn-check${t}" class="btn-completed" type="checkbox" ${e.completed?"checked":""}>\n\x3c!--                <button onclick="delTask(${t})" id="btn-del${t}" class="btn-del">DELETE</button>--\x3e\n                <button id="btn-del${t}" class="btn-del">DELETE</button>\n            </div>\n         </div>\n    `)(e,t)})),r=document.querySelectorAll(".todo-item")),document.querySelectorAll(".btn-del").forEach((e=>{e.addEventListener("click",(function(){l(e.id.slice(-1))}))})),document.querySelectorAll(".btn-completed").forEach((e=>{e.addEventListener("click",(function(){var t;t=e.id.slice(-1),c[t].completed=!c[t].completed,c[t].completed?r[t].classList.add("checked"):r[t].classList.remove("checked"),s(),a()}))}))};a(),e.addEventListener("click",(()=>{c.push(new i(t.value)),s(),a(),t.value=""}));const l=e=>{r[e].classList.add("delition"),setTimeout((()=>{c.splice(e,1),s(),a()}),100)};let u=new Date,d=u.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});d=+d.split(":").join(".");let m=function(e){return e>=6&&e<=11.59?"morning":e>=12&&e<=17.59?"day":e>=18&&e<=23.59?"evening":e>=0&&e<=5.59&&"night"}(d);function y(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}let g=y(1,20),p="";p=g<10?`0${g}`:g;let h={name:"...enter name",city:"Минск"};function f(){localStorage.baseMoment&&(h=JSON.parse(localStorage.getItem("baseMoment")))}let v=document.querySelector(".author"),S=document.querySelector(".quote");async function b(){const e=await fetch("js/base-phases.json"),t=await e.json();let n=y(0,Object.keys(t).length);v.innerHTML=t[n].author,S.innerHTML=`" ${t[n].text} "`}const k=document.querySelector(".weather-icon"),L=document.querySelector(".temperature"),q=document.querySelector(".weather-description"),w=document.querySelector(".wind"),$=document.querySelector(".humidity");async function M(e){const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=ru&appid=6dfbd47545f720acd1a7123460a2c92d&units=metric`,n=await fetch(t),o=await n.json();"404"===o.cod?L.textContent="ОШИБКА! ГОРОД НЕ НАЙДЕН!":(k.className="weather-icon owf",k.classList.add(`owf-${o.weather[0].id}`),L.textContent=`${Math.round(o.main.temp)}°C`,q.textContent=o.weather[0].description,w.textContent=`Скорость ветра ${Math.round(o.wind.speed)} м/с`,$.textContent=`Влажность ${o.main.humidity}%`)}const E=[{num:1,title:"Ночь",src:"assets/sounds/1.mp3",duration:"06:24"},{num:2,title:"Как на войне",src:"assets/sounds/2.mp3",duration:"04:05"},{num:3,title:"Под небом...",src:"assets/sounds/3.mp3",duration:"03:39"},{num:4,title:"Беспечный Ангел",src:"assets/sounds/4.mp3",duration:"03:58"}];let x=document.querySelector("audio");x.src="assets/sounds/1.mp3";let T=E[0].num-1,C=document.querySelector(".play");document.querySelector(".play-next").addEventListener("click",(function(){3===T?(T=0,x.src=E[T].src,I()):(T+=1,x.src=E[T].src,I())})),document.querySelector(".play-prev").addEventListener("click",(function(){console.log(T),0===T?(T=3,x.src=E[T].src,I()):(T-=1,x.src=E[T].src,I())}));let H=document.querySelector(".play-list");function I(){j(),!0===x.paused?(x.currentTime=0,C.style.backgroundImage="url(assets/svg/pause.svg)",x.play()):(x.pause(),C.style.backgroundImage="url(assets/svg/play.svg)")}function j(){document.querySelector(".play-list").querySelectorAll("li").forEach((e=>{e.style.color="white"}));let e=`${T}`;e=Number(e)+1,document.getElementById(`${e.toString()}`).style.color="red"}E.forEach((e=>{H.innerHTML+=`\n    <li id ="${e.num}">${e.title}</li>\n`})),H.querySelectorAll("li").forEach((e=>{e.addEventListener("click",(()=>{T=e.id-1,j(),x.src=E[e.id-1].src,I()}))})),C.addEventListener("click",I);let O=document.querySelector(".name"),N=document.querySelector(".city");document.addEventListener("DOMContentLoaded",(function(){N.value=h.city,N.textContent=h.city,M(h.city)}));let A=document.querySelector(".change-quote"),D=document.querySelector(".slide-next"),J=document.querySelector(".slide-prev");function B(){this.value=""}function G(e,t){h[t]=e.value,localStorage.setItem("baseMoment",JSON.stringify(h)),f()}f(),function e(){const t=document.querySelector(".time"),n=new Date;t.textContent=n.toLocaleTimeString(),setTimeout(e,1e3),document.querySelector(".greeting").innerHTML=`Good ${m}, `}(),document.querySelector(".date").innerHTML=u.toLocaleString("en-us",{weekday:"long",month:"long",day:"numeric"}),document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg')`,b(),M(h.city),h.name.trim().length<=0?O.value="...enter name":O.value=h.name,O.addEventListener("focus",B),O.addEventListener("blur",(function(){G(O,"name"),h.name.trim().length<=0?O.value="...enter name":O.value=h.name})),h.city.trim().length<=0?N.value="...enter city":N.value=h.city,N.addEventListener("focus",B),N.addEventListener("blur",(function(){G(N,"city"),0===h.city.trim().length?(k.className="weather-icon owf",L.textContent="",q.textContent="",w.textContent="",$.textContent=""):M(h.city),h.city.trim().length<=0?N.value="...enter city":N.value=h.city})),A.addEventListener("click",b),D.addEventListener("click",(()=>{!function(){p=Number(p),p+=1,20===p&&(p=1),p=p<10?`0${p}`:p;const e=new Image;e.src=`https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`,e.onload=()=>{document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`}}()})),J.addEventListener("click",(()=>{!function(){p=Number(p),p-=1,1===p&&(p=20),p=p<10?`0${p}`:p;const e=new Image;e.src=`https://raw.githubusercontent.com/yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`,e.onload=()=>{document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com//yuraCOM/stage1-tasks/assets/images/${m}/${p}.jpg`}}()}))})()})();