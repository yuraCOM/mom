(()=>{"use strict";let e=new Date,t=e.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});t=+t.split(":").join(".");let n=function(e){return e>=6&&e<=11.59?"morning":e>=12&&e<=17.59?"day":e>=18&&e<=23.59?"evening":e>=0&&e<=5.59&&"night"}(t);function o(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}let r=o(1,20),a="";a=r<10?`0${r}`:r;let c={name:"...enter your name",city:"...enter town"},i=document.querySelector(".author"),u=document.querySelector(".quote");async function l(){const e=await fetch("js/base-phases.json"),t=await e.json();let n=o(0,Object.keys(t).length);i.innerHTML=t[n].author,u.innerHTML=`" ${t[n].text} "`}let s=document.querySelector(".name"),m=document.querySelector(".city"),g=document.querySelector(".change-quote");function d(){this.value=""}function y(e,t){c[t]=e.value,localStorage.setItem("baseMoment",JSON.stringify(c))}localStorage.baseMoment&&(c=JSON.parse(localStorage.getItem("baseMoment"))),function e(){const t=document.querySelector(".time"),o=new Date;t.textContent=o.toLocaleTimeString(),setTimeout(e,1e3),document.querySelector(".greeting").innerHTML=`Good ${n}, `}(),document.querySelector(".date").innerHTML=e.toLocaleString("en-us",{weekday:"long",month:"long",day:"numeric"}),document.querySelector("body").style.backgroundImage=`url('https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${n}/${a}.jpg')`,l(),c.name.trim().length<=0?s.value="...enter your name":s.value=c.name,s.addEventListener("focus",d),s.addEventListener("blur",(function(){y(s,"name")})),c.city.trim().length<=0?m.value="...enter your city":m.value=c.city,m.addEventListener("focus",d),m.addEventListener("blur",(function(){y(m,"city")})),g.addEventListener("click",l)})();